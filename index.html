<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        <p>Add a new product to the <code>products</code> collection</p>
    <code>{title: 'new product', price: 49}</code> 
-->
    <p>The response: <span id='response'></span></p>
    <p>Error: <span id='error'></span></p>
    <script>
        //A fetch that saves a new order with POST after it submitted
        const newOrder = { "name": "minaj", "phone_number": 2349322154883, "lesson ID": 2, "number of space": 4 };
        // set the url to your server and route
        fetch('https://cst3145-cw2-individual.herokuapp.com/collection/order', {
            method: 'POST', // set the HTTP method as 'POST'
            headers: {
                'Content-Type': 'application/json', // set the data type as JSON
            },
            body: JSON.stringify(newOrder), // need to stringify the JSON object
        })
            .then(response => response.json())
            .then(responseJSON => {
                document.getElementById('response').innerText = JSON.stringify(responseJSON);
            })
            .catch((error) => {
                document.getElementById('error').innerText = error;
            });

        // Simple GET request using fetch
        fetch("https://cst3145-cw2-individual.herokuapp.com/collection/lesson")
            .then(response => response.json())
            .then(data => (this.totalVuePackages = data.total));

       // Simple PUT request with a JSON body using fetch
    const requestOptions = {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ title: 'React PUT Request Example' })
    };
    fetch('https://cst3145-cw2-individual.herokuapp.com/collection/put/600f49f5304709235a1088ea', requestOptions)
        .then(response => response.json())
        .then(data => this.setState({ postId: data.id }));
    </script>
</body>

</html>